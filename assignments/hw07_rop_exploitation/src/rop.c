#include <stdio.h>
#include <unistd.h>

char *gets(char *s)
{
    int c;
    char *p = s;
    while ((c = getchar()) != EOF && c != '\n') {
        *p++ = (char)c;
    }
    *p = '\0';
    if (c == EOF && p == s)
        return NULL;
    return s;
}

void Test()
{
    char buff[12];
    gets(buff);
    puts(buff);
}

void gogodaaget()
{
    __asm__("pop %eax; ret");
    __asm__("pop %ebx; mov $100, %esi; pop %edi; ret");
    __asm__("pop %ecx; mov $0xffffffff, %ebx; ret");
    __asm__("mov $0x0, %edx; inc %edx; ret");
    __asm__("dec %edx; ret");
    __asm__("int $0x80; nop; nop; ret");
}

int main(int argc, char *argv[])
{
    char *myString = "/bin/sh";
    printf("%s", myString);
    printf(" is a great command, isn't it?\n");
    Test();
    return 0;
}

